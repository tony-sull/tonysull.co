---
import { Fathom } from 'astro-fathom'
import SEO, { type Props as SEOProps } from './SEO.astro'
import site from '../data/site.js'

export type Props = Partial<SEOProps>

const {
	title,
	description = site.description,
	image = site.social.image,
	canonicalURL = new URL(Astro.url.pathname, Astro.site),
} = Astro.props
---

<!-- Common -->
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<SEO {title} {description} {image} {canonicalURL} />

<!-- Favicons -->
<link rel="icon" type="image/svg+xml" href="/favicon.svg" />

<!-- Fonts -->
<link
	rel="preload"
	href="/fonts/Atkinson-Hyperlegible-Regular-102a.woff2"
	as="font"
	type="font/woff2"
	crossorigin
/>

<!-- Sitemap -->
<link rel="sitemap" href="/sitemap.xml" />

<!-- Feeds -->
<link
	rel="alternate"
	type="application/rss+xml"
	href={new URL('/rss.xml', Astro.site)}
	title="RSS Feed for Tony Sullivan"
/>
<link
	rel="alternate"
	type="application/atom+xml"
	href={new URL('/atom.xml', Astro.site)}
	title="Atom Feed for Tony Sullivan"
/>
<link
	rel="alternate"
	type="application/feed+json"
	href={new URL('/feed.json', Astro.site)}
	title="Atom Feed for Tony Sullivan"
/>

<!-- Web Mentions -->
<link rel="webmention" href="https://webmention.io/tonysull.co/webmention" />
<link rel="pingback" href="https://webmention.io/tonysull.co/xmlrpc" />

<!-- Micropub -->
<link rel="micropub" href="https://tonysull.co/micropub" />

<!-- IndieAuth -->
<link rel="authorization_endpoint" href="https://indieauth.com/auth" />
<link rel="token_endpoint" href="https://tokens.indieauth.com/token" />

<!-- Fathom Analytics -->
<Fathom />
